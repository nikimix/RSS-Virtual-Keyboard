(()=>{"use strict";const e={Backquote:{en:{caseDown:"`",caseUp:"~",caps:"`",shiftCaps:"~"},ru:{caseDown:"ё",caseUp:"Ё",caps:"Ё",shiftCaps:"ё"}},Digit1:{en:{caseDown:"1",caseUp:"!",caps:"1",shiftCaps:"!"},ru:{caseDown:"1",caseUp:"!",caps:"1",shiftCaps:"!"}},Digit2:{en:{caseDown:"2",caseUp:"@",caps:"2",shiftCaps:"@"},ru:{caseDown:"2",caseUp:'"',caps:"2",shiftCaps:'"'}},Digit3:{en:{caseDown:"3",caseUp:"#",caps:"3",shiftCaps:"#"},ru:{caseDown:"3",caseUp:"№",caps:"3",shiftCaps:"№"}},Digit4:{en:{caseDown:"4",caseUp:"$",caps:"4",shiftCaps:"$"},ru:{caseDown:"4",caseUp:";",caps:"4",shiftCaps:";"}},Digit5:{en:{caseDown:"5",caseUp:"%",caps:"5",shiftCaps:"%"},ru:{caseDown:"5",caseUp:"%",caps:"5",shiftCaps:"%"}},Digit6:{en:{caseDown:"6",caseUp:"^",caps:"6",shiftCaps:"^"},ru:{caseDown:"6",caseUp:":",caps:"6",shiftCaps:":"}},Digit7:{en:{caseDown:"7",caseUp:"&",caps:"7",shiftCaps:"&"},ru:{caseDown:"7",caseUp:"?",caps:"7",shiftCaps:"?"}},Digit8:{en:{caseDown:"8",caseUp:"*",caps:"8",shiftCaps:"*"},ru:{caseDown:"8",caseUp:"*",caps:"8",shiftCaps:"*"}},Digit9:{en:{caseDown:"9",caseUp:"(",caps:"9",shiftCaps:"("},ru:{caseDown:"9",caseUp:"(",caps:"9",shiftCaps:"("}},Digit0:{en:{caseDown:"0",caseUp:")",caps:"0",shiftCaps:")"},ru:{caseDown:"0",caseUp:")",caps:"0",shiftCaps:")"}},Minus:{en:{caseDown:"-",caseUp:"_",caps:"-",shiftCaps:"_"},ru:{caseDown:"-",caseUp:"_",caps:"-",shiftCaps:"_"}},Equal:{en:{caseDown:"=",caseUp:"+",caps:"=",shiftCaps:"+"},ru:{caseDown:"=",caseUp:"+",caps:"=",shiftCaps:"+"}},Backspace:{en:{caseDown:"Backspace",caseUp:"Backspace"},ru:{caseDown:"Backspace",caseUp:"Backspace"},control:!0},Tab:{en:{caseDown:"Tab",caseUp:"Tab"},ru:{caseDown:"Tab",caseUp:"Tab"},control:!0},KeyQ:{en:{caseDown:"q",caseUp:"Q",caps:"Q",shiftCaps:"q"},ru:{caseDown:"й",caseUp:"Й",caps:"Й",shiftCaps:"й"}},KeyW:{en:{caseDown:"w",caseUp:"W",caps:"W",shiftCaps:"w"},ru:{caseDown:"ц",caseUp:"Ц",caps:"Ц",shiftCaps:"ц"}},KeyE:{en:{caseDown:"e",caseUp:"E",caps:"E",shiftCaps:"e"},ru:{caseDown:"у",caseUp:"У",caps:"У",shiftCaps:"у"}},KeyR:{en:{caseDown:"r",caseUp:"R",caps:"R",shiftCaps:"r"},ru:{caseDown:"к",caseUp:"К",caps:"К",shiftCaps:"к"}},KeyT:{en:{caseDown:"t",caseUp:"T",caps:"T",shiftCaps:"t"},ru:{caseDown:"е",caseUp:"Е",caps:"Е",shiftCaps:"е"}},KeyY:{en:{caseDown:"y",caseUp:"Y",caps:"Y",shiftCaps:"y"},ru:{caseDown:"н",caseUp:"Н",caps:"Н",shiftCaps:"н"}},KeyU:{en:{caseDown:"u",caseUp:"U",caps:"U",shiftCaps:"u"},ru:{caseDown:"г",caseUp:"Г",caps:"Г",shiftCaps:"г"}},KeyI:{en:{caseDown:"i",caseUp:"I",caps:"I",shiftCaps:"i"},ru:{caseDown:"ш",caseUp:"Ш",caps:"Ш",shiftCaps:"ш"}},KeyO:{en:{caseDown:"o",caseUp:"O",caps:"O",shiftCaps:"o"},ru:{caseDown:"щ",caseUp:"Щ",caps:"Щ",shiftCaps:"щ"}},KeyP:{en:{caseDown:"p",caseUp:"P",caps:"P",shiftCaps:"p"},ru:{caseDown:"з",caseUp:"З",caps:"З",shiftCaps:"з"}},BracketLeft:{en:{caseDown:"[",caseUp:"{",caps:"[",shiftCaps:"{"},ru:{caseDown:"х",caseUp:"Х",caps:"Х",shiftCaps:"х"}},BracketRight:{en:{caseDown:"]",caseUp:"}",caps:"]",shiftCaps:"}"},ru:{caseDown:"ъ",caseUp:"Ъ",caps:"Ъ",shiftCaps:"ъ"}},Backslash:{en:{caseDown:"\\",caseUp:"|",caps:"\\",shiftCaps:"|"},ru:{caseDown:"\\",caseUp:"/",caps:"\\",shiftCaps:"/"}},Delete:{en:{caseDown:"Del",caseUp:"Del"},ru:{caseDown:"Del",caseUp:"Del"},control:!0},CapsLock:{en:{caseDown:"CapsLk",caseUp:"CapsLk"},ru:{caseDown:"CapsLk",caseUp:"CapsLk"},toggler:!0,control:!0},KeyA:{en:{caseDown:"a",caseUp:"A",caps:"A",shiftCaps:"a"},ru:{caseDown:"ф",caseUp:"Ф",caps:"Ф",shiftCaps:"ф"}},KeyS:{en:{caseDown:"s",caseUp:"S",caps:"S",shiftCaps:"s"},ru:{caseDown:"ы",caseUp:"Ы",caps:"Ы",shiftCaps:"ы"}},KeyD:{en:{caseDown:"d",caseUp:"D",caps:"D",shiftCaps:"d"},ru:{caseDown:"в",caseUp:"В",caps:"В",shiftCaps:"в"}},KeyF:{en:{caseDown:"f",caseUp:"F",caps:"F",shiftCaps:"f"},ru:{caseDown:"а",caseUp:"А",caps:"А",shiftCaps:"а"}},KeyG:{en:{caseDown:"g",caseUp:"G",caps:"G",shiftCaps:"g"},ru:{caseDown:"п",caseUp:"П",caps:"П",shiftCaps:"п"}},KeyH:{en:{caseDown:"h",caseUp:"H",caps:"H",shiftCaps:"h"},ru:{caseDown:"р",caseUp:"Р",caps:"Р",shiftCaps:"р"}},KeyJ:{en:{caseDown:"j",caseUp:"J",caps:"J",shiftCaps:"j"},ru:{caseDown:"о",caseUp:"О",caps:"О",shiftCaps:"о"}},KeyK:{en:{caseDown:"k",caseUp:"K",caps:"K",shiftCaps:"k"},ru:{caseDown:"л",caseUp:"Л",caps:"Л",shiftCaps:"л"}},KeyL:{en:{caseDown:"l",caseUp:"L",caps:"L",shiftCaps:"l"},ru:{caseDown:"д",caseUp:"Д",caps:"Д",shiftCaps:"д"}},Semicolon:{en:{caseDown:";",caseUp:":"},ru:{caseDown:"ж",caseUp:"Ж",caps:"Ж",shiftCaps:"ж"}},Quote:{en:{caseDown:"'",caseUp:'"',caps:"'",shiftCaps:'"'},ru:{caseDown:"э",caseUp:"Э",caps:"Э",shiftCaps:"э"}},Enter:{en:{caseDown:"Enter",caseUp:"Enter"},ru:{caseDown:"Enter",caseUp:"Enter"},control:!0},ShiftLeft:{en:{caseDown:"Shift",caseUp:"Shift"},ru:{caseDown:"Shift",caseUp:"Shift"},control:!0},KeyZ:{en:{caseDown:"z",caseUp:"Z",caps:"Z",shiftCaps:"z"},ru:{caseDown:"я",caseUp:"Я",caps:"Я",shiftCaps:"я"}},KeyX:{en:{caseDown:"x",caseUp:"X",caps:"X",shiftCaps:"x"},ru:{caseDown:"ч",caseUp:"Ч",caps:"Ч",shiftCaps:"ч"}},KeyC:{en:{caseDown:"с",caseUp:"С",caps:"C",shiftCaps:"c"},ru:{caseDown:"с",caseUp:"С",caps:"С",shiftCaps:"с"}},KeyV:{en:{caseDown:"v",caseUp:"V",caps:"V",shiftCaps:"v"},ru:{caseDown:"м",caseUp:"М",caps:"М",shiftCaps:"м"}},KeyB:{en:{caseDown:"b",caseUp:"B",caps:"B",shiftCaps:"b"},ru:{caseDown:"и",caseUp:"И",caps:"И",shiftCaps:"и"}},KeyN:{en:{caseDown:"n",caseUp:"N",caps:"N",shiftCaps:"n"},ru:{caseDown:"т",caseUp:"Т",caps:"Т",shiftCaps:"т"}},KeyM:{en:{caseDown:"m",caseUp:"M",caps:"M",shiftCaps:"m"},ru:{caseDown:"ь",caseUp:"Ь",caps:"Ь",shiftCaps:"ь"}},Comma:{en:{caseDown:",",caseUp:"<",caps:",",shiftCaps:"<"},ru:{caseDown:"б",caseUp:"Б",caps:"Б",shiftCaps:"б"}},Period:{en:{caseDown:".",caseUp:">",caps:".",shiftCaps:">"},ru:{caseDown:"ю",caseUp:"Ю",caps:"Ю",shiftCaps:"ю"}},Slash:{en:{caseDown:"/",caseUp:"?",caps:"/",shiftCaps:"?"},ru:{caseDown:".",caseUp:",",caps:".",shiftCaps:","}},ArrowUp:{en:{caseDown:"▲",caseUp:"▲"},ru:{caseDown:"▲",caseUp:"▲"},control:!0},ShiftRight:{en:{caseDown:"Shift",caseUp:"Shift"},ru:{caseDown:"Shift",caseUp:"Shift"},control:!0},ControlLeft:{en:{caseDown:"Ctrl",caseUp:"Ctrl"},ru:{caseDown:"Ctrl",caseUp:"Ctrl"},control:!0},MetaLeft:{en:{caseDown:"Win",caseUp:"Win"},ru:{caseDown:"Win",caseUp:"Win"},control:!0},AltLeft:{en:{caseDown:"Alt",caseUp:"Alt"},ru:{caseDown:"Alt",caseUp:"Alt"},control:!0},Space:{en:{caseDown:"",caseUp:""},ru:{caseDown:"",caseUp:""},control:!0},AltRight:{en:{caseDown:"Alt",caseUp:"Alt"},ru:{caseDown:"Alt",caseUp:"Alt"},control:!0},ArrowLeft:{en:{caseDown:"◄",caseUp:"◄"},ru:{caseDown:"◄",caseUp:"◄"},control:!0},ArrowDown:{en:{caseDown:"▼",caseUp:"▼"},ru:{caseDown:"▼",caseUp:"▼"},control:!0},ArrowRight:{en:{caseDown:"►",caseUp:"►"},ru:{caseDown:"►",caseUp:"►"},control:!0},ControlRight:{en:{caseDown:"Ctrl",caseUp:"Ctrl"},ru:{caseDown:"Ctrl",caseUp:"Ctrl"},control:!0}};function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,a){if(e){if("string"==typeof e)return s(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,a):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,a){(null==a||a>e.length)&&(a=e.length);for(var s=0,t=new Array(a);s<a;s++)t[s]=e[s];return t}function t(e,s,t,n){var c,o=document.createElement(e);return Array.isArray(s)&&(c=o.classList).add.apply(c,a(s)),t&&(o.textContent=t),n&&o.setAttribute.apply(o,a(n)),o}const n=[["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight"],["ControlLeft","MetaLeft","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"]];function c(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var t,n,c=[],o=!0,p=!1;try{for(s=s.call(e);!(o=(t=s.next()).done)&&(c.push(t.value),!a||c.length!==a);o=!0);}catch(e){p=!0,n=e}finally{try{o||null==s.return||s.return()}finally{if(p)throw n}}return c}}(e,a)||function(e,a){if(e){if("string"==typeof e)return o(e,a);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,a){(null==a||a>e.length)&&(a=e.length);for(var s=0,t=new Array(a);s<a;s++)t[s]=e[s];return t}!function(){var a=t("div",["wrapper"]),s=t("h1",["main_title"],"RSS Virtual keyboard"),c=t("textarea",["output"]),o=t("div",["keyboard"]),p=t("p",["note"],"Change keyboard layout left: Ctrl + Alt"),r=t("p",["note"],"Keyboard is created for operating system windows");o.append(function(a){if(a){sessionStorage.length||sessionStorage.setItem("lang","en");var s=sessionStorage.getItem("lang"),n=document.createDocumentFragment(),c=null,o=null,p=null;return a.forEach((function(a){c=t("div",["row"]),a.forEach((function(a){var t;o=e[a][s].caseDown,p=null!==(t=e[a])&&void 0!==t&&t.control?"key key-control":"key",c.insertAdjacentHTML("beforeend",'<button class="'.concat(p,'" id="').concat(a,'" type="button">').concat(o,"</button>"))})),n.append(c)})),n}}(n)),a.append(s,c,o,p,r),document.body.append(a)}();var p=document.querySelector(".keyboard"),r=document.querySelector(".output"),i=p.querySelectorAll(".key"),u=new Set,f=new Set,l=0;function w(e){return"keydown"===e.type||"keyup"===e.type?e.code:e.target.id}function h(a){return"mousedown"!==a.type||!!e[a.target.id]}function D(a){var s=w(a);return!!e[s]}function U(e,a){return e.code===a||e.target.id===a}function y(e){return"keydown"===e.type||"mousedown"===e.type}function C(e){return"keyup"===e.type||"mouseup"===e.type}function g(e,a,s,t){for(var n=0;n<e.length;n+=1){var c=e[n];a[c.id][s][t]&&(c.textContent=a[c.id][s][t])}}function d(e){for(var a=0,s=0,t=0;t<e.length;t+=1){for(var n=0;n<e[t].length;n+=1){if(l===s)return[a,0];if(l===(s+=1))return[a,n+1]}if(a+=1,l===(s+=1))return[a,0]}}function S(e){e.target.closest(".output")&&(l=e.target.selectionStart)}function v(a){!function(e){e.preventDefault()}(a),function(a){var s;if(h(a)&&D(a)){var t=w(a),n=p.querySelector("#".concat(t));null!==(s=e[t])&&void 0!==s&&s.toggler?"keydown"!==a.type&&"mousedown"!==a.type||a.repeat||n.classList.toggle("active"):"keydown"===a.type?a.repeat||n.classList.toggle("active"):"keyup"===a.type&&n.classList.toggle("active")}}(a),function(a){var s=w(a);y(a)&&!a.repeat?(U(a,"ShiftLeft")||U(a,"ShiftRight")?u.add(s):U(a,"CapsLock")&&(u.has(s)?u.delete(s):u.add(s)),2===u.size?g(i,e,sessionStorage.getItem("lang"),"shiftCaps"):!u.has("ShiftLeft")&&!u.has("ShiftRight")||a.repeat?u.has("CapsLock")&&!a.repeat?g(i,e,sessionStorage.getItem("lang"),"caps"):g(i,e,sessionStorage.getItem("lang"),"caseDown"):g(i,e,sessionStorage.getItem("lang"),"caseUp")):!C(a)||"ShiftLeft"!==s&&"ShiftRight"!==s||(u.delete(s),u.has("CapsLock")?g(i,e,sessionStorage.getItem("lang"),"caps"):g(i,e,sessionStorage.getItem("lang"),"caseDown"))}(a),function(a){if(!function(a){var s,t=w(a);return!(null===(s=e[t])||void 0===s||!s.control)}(a)||U(a,"Tab")||U(a,"Space")){var s=null;"keydown"===a.type&&D(a)&&(s=p.querySelector("#".concat(a.code)).textContent,(U(a,"Tab")||U(a,"Space"))&&(s="Tab"===a.code?"\t":" "),r.setRangeText(s,l,l,"end"),l+=1),"mousedown"===a.type&&h(a)&&(s=a.target.textContent,(U(a,"Tab")||U(a,"Space"))&&(s="Tab"===a.target.id?"\t":" "),r.setRangeText(s,l,l,"end"),l+=1)}}(a),function(a){var s=w(a);if(f.add(s),y(a)&&!a.repeat){if(f.has("ControlLeft")&&f.has("AltLeft")){var t=u.size?"caps":"caseDown",n="en"===sessionStorage.getItem("lang")?"ru":"en";g(i,e,n,t),sessionStorage.setItem("lang",n)}}else C(a)&&f.delete(s)}(a),function(e){if(h(e)&&D(e)){var a=w(e),s=p.querySelector("#".concat(a));!y(e)||"Backspace"!==a&&"Backspace"!==s||0===l||(r.value=r.value.slice(0,l-1)+r.value.slice(l),l-=1,r.setSelectionRange(l,l))}}(a),function(e){if(h(e)&&D(e)){var a=w(e),s=p.querySelector("#".concat(a));if(y(e)&&("Delete"===a||"Delete"===s)&&l!==r.value.length){var t=r.value.slice(0,l),n=r.value.slice(l+1);r.value=t+n,r.setSelectionRange(l,l)}}}(a),function(e){h(e)&&D(e)&&("keydown"===e.type&&"Enter"===e.code&&(r.setRangeText("\n",l,l,"end"),l+=1),"mousedown"===e.type&&"Enter"===e.target.id&&(r.setRangeText("\n",l,l,"end"),l+=1))}(a),function(e){if(h(e)&&D(e)){var a=r.value.split("\n");if(y(e)){if(U(e,"ArrowLeft")&&0!==l&&(l-=1,r.setSelectionRange(l,l)),U(e,"ArrowRight")&&l!==r.value.length&&(l+=1,r.setSelectionRange(l,l)),U(e,"ArrowUp")&&0!==a&&0!==l){var s=c(d(a),2),t=s[0],n=s[1];0!==t&&n<=a[t-1].length?(l-=a[t-1].length+1,r.setSelectionRange(l,l)):0!==t&&n>a[t-1].length&&(l-=n+1,r.setSelectionRange(l,l))}if(U(e,"ArrowDown")){var o=c(d(a),2),p=o[0],i=o[1];p!==a.length-1&&i<=a[p+1].length?(l+=+a[p].length+1,r.setSelectionRange(l,l)):p!==a.length-1&&i>a[p+1].length&&(l+=a[p].length-i+a[p+1].length+1,r.setSelectionRange(l,l))}}}}(a),r.blur(),r.focus()}document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("keydown",v),document.addEventListener("keyup",v),p.addEventListener("mousedown",v),p.addEventListener("mouseup",v),document.addEventListener("click",S)}))})();
//# sourceMappingURL=scripts.faefcb34175e60810e4a.js.map